<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic English Tech - Personal Coach</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .flip-card { background-color: transparent; perspective: 1000px; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; cursor: pointer; }
        .flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 1rem; padding: 1.5rem; }
        .flip-card-back { transform: rotateY(180deg); }
        .tab-active { border-bottom: 3px solid #60a5fa; color: #60a5fa; }
    </style>
</head>
<body class="bg-slate-900 text-white min-h-screen">

    <nav class="p-4 border-b border-slate-700 bg-slate-800 sticky top-0 z-50">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <h1 class="text-xl font-bold flex items-center gap-2">
                <i class="fas fa-microchip text-blue-400"></i> TechEnglish Pro
            </h1>
            <div class="flex gap-4 text-sm">
                <span class="bg-blue-900/50 px-3 py-1 rounded-full border border-blue-500">
                    Streak: <span id="streak-val">0</span> üî•
                </span>
            </div>
        </div>
    </nav>

    <main class="max-w-2xl mx-auto p-6">
        <div class="flex border-b border-slate-700 mb-8">
            <button onclick="switchTab('study')" id="tab-study" class="flex-1 py-3 font-semibold tab-active">Estudiar</button>
            <button onclick="switchTab('add')" id="tab-add" class="flex-1 py-3 font-semibold text-slate-400">Agregar Vocabulario</button>
        </div>

        <div id="section-study" class="space-y-6">
            <div id="card-container" class="flip-card w-full h-64 mx-auto" onclick="this.classList.toggle('flipped')">
                <div class="flip-card-inner">
                    <div class="flip-card-front bg-slate-800 border-2 border-slate-700 shadow-2xl">
                        <span class="text-xs text-blue-400 uppercase tracking-widest mb-4">Ingl√©s</span>
                        <p id="front-text" class="text-4xl font-bold tracking-tight">Honing Machine</p>
                        <button onclick="speak(event)" class="mt-4 p-2 bg-slate-700 rounded-full hover:bg-slate-600 transition">
                            <i class="fas fa-volume-up"></i> Pronunciar
                        </button>
                    </div>
                    <div class="flip-card-back bg-blue-800 border-2 border-blue-400 shadow-2xl text-white">
                        <span class="text-xs text-blue-200 uppercase tracking-widest mb-4">Espa√±ol</span>
                        <p id="back-text" class="text-3xl font-medium italic">M√°quina Honeadora</p>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-3 gap-4">
                <button onclick="prevCard()" class="bg-slate-800 p-4 rounded-xl border border-slate-700 hover:bg-slate-700 transition">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <button onclick="markAsLearned()" class="bg-green-600 p-4 rounded-xl font-bold hover:bg-green-500 transition shadow-lg shadow-green-900/20">
                    <i class="fas fa-check"></i>
                </button>
                <button onclick="nextCard()" class="bg-slate-800 p-4 rounded-xl border border-slate-700 hover:bg-slate-700 transition">
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>

        <div id="section-add" class="hidden space-y-4">
            <div class="bg-slate-800 p-6 rounded-2xl border border-slate-700">
                <h2 class="text-lg font-bold mb-4">Nueva Palabra T√©cnica</h2>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm text-slate-400 mb-1">Palabra o frase en Ingl√©s</label>
                        <input type="text" id="new-en" placeholder="Ej: Sensor calibration" class="w-full bg-slate-900 border border-slate-600 p-3 rounded-lg focus:outline-none focus:border-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm text-slate-400 mb-1">Traducci√≥n al Espa√±ol</label>
                        <input type="text" id="new-es" placeholder="Ej: Calibraci√≥n de sensor" class="w-full bg-slate-900 border border-slate-600 p-3 rounded-lg focus:outline-none focus:border-blue-500">
                    </div>
                    <button onclick="addNewWord()" class="w-full bg-blue-600 p-3 rounded-lg font-bold hover:bg-blue-500 transition">
                        Guardar en mi Biblioteca
                    </button>
                </div>
            </div>
        </div>

        <div class="mt-12">
            <h3 class="text-slate-500 text-sm font-bold uppercase mb-4 tracking-tighter">Mi Biblioteca</h3>
            <div id="word-list" class="space-y-2">
                </div>
        </div>
    </main>

    <script>
        let words = JSON.parse(localStorage.getItem('myWords')) || [
            {en: "Honing Machine", es: "M√°quina Honeadora"},
            {en: "Troubleshooting", es: "Detecci√≥n y resoluci√≥n de problemas"},
            {en: "Maintenance Schedule", es: "Calendario de mantenimiento"},
            {en: "Output", es: "Salida / Producci√≥n"},
            {en: "Data Sheet", es: "Hoja de datos t√©cnicos"}
        ];

        let currentIndex = 0;
        let streak = parseInt(localStorage.getItem('streak')) || 0;

        function updateCard() {
            if(words.length === 0) return;
            const current = words[currentIndex];
            document.getElementById('front-text').innerText = current.en;
            document.getElementById('back-text').innerText = current.es;
            document.getElementById('card-container').classList.remove('flipped');
            document.getElementById('streak-val').innerText = streak;
            renderList();
        }

        function nextCard() {
            currentIndex = (currentIndex + 1) % words.length;
            updateCard();
        }

        function prevCard() {
            currentIndex = (currentIndex - 1 + words.length) % words.length;
            updateCard();
        }

        function speak(event) {
            event.stopPropagation();
            const text = words[currentIndex].en;
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US';
            utterance.rate = 0.9;
            window.speechSynthesis.speak(utterance);
        }

        function addNewWord() {
            const en = document.getElementById('new-en').value;
            const es = document.getElementById('new-es').value;
            if(en && es) {
                words.unshift({en, es});
                localStorage.setItem('myWords', JSON.stringify(words));
                document.getElementById('new-en').value = '';
                document.getElementById('new-es').value = '';
                alert("¬°Palabra guardada!");
                switchTab('study');
                updateCard();
            }
        }

        function markAsLearned() {
            streak++;
            localStorage.setItem('streak', streak);
            nextCard();
        }

        function renderList() {
            const list = document.getElementById('word-list');
            list.innerHTML = words.slice(0, 5).map(w => `
                <div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700 flex justify-between text-sm">
                    <span class="font-bold text-blue-300">${w.en}</span>
                    <span class="text-slate-400">${w.es}</span>
                </div>
            `).join('');
        }

        function switchTab(tab) {
            if(tab === 'study') {
                document.getElementById('section-study').classList.remove('hidden');
                document.getElementById('section-add').classList.add('hidden');
                document.getElementById('tab-study').classList.add('tab-active');
                document.getElementById('tab-add').classList.remove('tab-active');
            } else {
                document.getElementById('section-study').classList.add('hidden');
                document.getElementById('section-add').classList.remove('hidden');
                document.getElementById('tab-study').classList.remove('tab-active');
                document.getElementById('tab-add').classList.add('tab-active');
            }
        }

        updateCard();
    </script>
</body>
</html>
